<!-- prettier-ignore -->
{% extends "site_template/base_site.html" %}


{% block title %} Device {% endblock %}

{% block content %}
<div class="flex-container">
  {# Device connection form. #}
  <div class="flex-item flex-item-ratio-0">
    <form action="/" method="POST">
      <!-- prettier-ignore -->
      {{ connect_device_form.hidden_tag() }}
      <div class="control control-button-big">
        <button
          type="submit"
          onclick="getSelectedConnection('{{ connect_device_form.device_connection.id }}')"
        >
          <i class="fa fa-link"></i>
          Connect
        </button>
      </div>
    </form>
  </div>
  {# Connected device info pane. #}
  <div class="flex-item flex-item-ratio-9">
    <div class="app-container app-container-heading">
      <table>
        <tbody>
          <tr>
            <td>Device Type:</td>
            <td>{{ uos_data["type"] }}</td>
          </tr>
          <tr>
            <td>UOS Version:</td>
            <td>{{ uos_data["version"] }}</td>
          </tr>
          <tr>
            <td>Connection Info:</td>
            <td>{{ uos_data["connection"] }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div class="flex-container">
  <!-- prettier-ignore -->
  {# Tabbed device pane #}
  <div class="flex-item flex-item-ratio-1">
    {# Tabbed pane navigation header #}
    <div class="nav tab-nav nav-container">
      <button class="nav tab-nav-links active" onclick="switchTab(this)">
        <i class="fa fa-wave-square"></i>
        Digital
      </button>
      <button class="nav tab-nav-links" onclick="switchTab(this)">
        <i class="fa fa-chart-line"></i>
        Analog
      </button>
    </div>
    {# Tabbed pane digital content page #}
    <div class="tab-nav-content app-container active">
      <form action="/" method="POST">
        {{ digital_instruction_form.hidden_tag() }}
        <div class="control control-numeric-spinner">
          <button
            type="button"
            class="control-numeric-spinner-left"
            onclick="incrementSpinner(this, true, 0)"
          >
            <i class="fa fa-minus"></i>
          </button>
          {{ digital_instruction_form.pin_index(value=1) }}
          <button
            type="button"
            class="control-numeric-spinner-right"
            onclick="incrementSpinner(this, false, 100)"
          >
            <i class="fa fa-plus"></i>
          </button>
        </div>
        <div class="control control-switch">
          {{ digital_instruction_form.pin_mode(onclick="toggleSwitch(this)") }}
          {{ digital_instruction_form.pin_mode.label }}
        </div>
        <div class="control control-switch">
          {{ digital_instruction_form.pin_level(onclick="toggleSwitch(this)") }}
          {{ digital_instruction_form.pin_level.label }}
          <label for="level-toggle">Set High</label>
        </div>
        <div class="control control-button-big">
          <button
            type="submit"
            onclick="getSelectedConnection('{{ digital_instruction_form.device_connection.id }}')"
          >
            Execute Command
          </button>
        </div>
      </form>
    </div>
    {# Tabbed pane analogue content page #}
    <div class="tab-nav-content app-container">
      <h3>Analog Pin Control</h3>
    </div>
  </div>
  <!-- prettier-ignore -->
  {# Device config info pane #}
  <div class="flex-item flex-item-ratio-1">
    <div class="app-container app-container-heading">
      <h3>Configuration Info</h3>
    </div>
  </div>
</div>
{% endblock %}
